\begin{theorem}
  The estimate 
  \begin{gather}
    \sqrt{N}
    \left( 
  \frac{1}{N}
    \sum_{i=1}^{n} 
    w_i
    \mathbf{1}
    _{\left\{ Y_i\le t \right\}}
    -
    \P[Y(1)\le t]
    \right)
  \end{gather}
  is Asymptoticaly normal.
\end{theorem}
\begin{proof}
\begin{align*}
  &
    \frac{1}{N}
    \sum_{i=1}^{n} 
    w_i
    \mathbf{1}_{\left\{ Y_i \le t \right\}}
    \ 
    -
    \ 
    \P[Y(1)\le t]
    \\
  &
  \ 
  =
  \ 
  \frac{1}{N}
  \left( 
    \sum_{i=1}^{n} 
    w_i
    B(X_i)
    -
    \sum_{i=1}^{N} 
    B(X_i)
  \right)
  ^\top
     \mathbf{Y}(1) 
  %%%% 1 %%%%
  \\
  &
  \qquad
  +
  \ 
  \frac{1}{N}
    \sum_{i=1}^{N} 
    \left( T_i\cdot w_i -1 \right)
    \left( 
    \P[Y(1)\le t| X_i]
    -
    \inner
    {B(X_i)}
    { \mathbf{Y}(1) }
    \right)
  %%%% 2 %%%%
  \\
  &
  \qquad
  +
  \ 
  \frac{1}{N}
    \sum_{i=1}^{N} 
    T_i
    (
    w_i 
    -
    1/\pi_i
    )
    \left( 
    \mathbf{1}_{\left\{ Y_i \le t \right\}}
    -
    \P[Y(1)\le t| X_i]
    \right)
  %%%% 3 %%%%
  \\
  &
  \qquad
  +
  \ 
  \frac{1}{N}
    \sum_{i=1}^{N} 
    T_i
    /\pi_i
    \left( 
    \mathbf{1}_{\left\{ Y_i \le t \right\}}
    -
    \E[Y(1)\le t| X_i]
    \right)
    +
    \left( 
    \P[Y(1)\le t| X_i]
    -
    \P[Y(1)\le t]
    \right)
  \\
  %%%%%%%%%%%%%%%
  &
  \ 
  =:
  \ 
  R_1
  +
  R_2
  +
  R_3
  +
  R_4
  \end{align*}

The term 
\begin{gather}
    \left|  
  \frac{1}{N}
    \sum_{i=1}^{N} 
    \left( 
    T_i
    w_i
    -
    1
    \right)
    \left( 
    \P[Y(1)\le t | X_i]
    -
    \inner
    {B(X_i))}
    {\lambda^*}
    \right)
  \right|
\end{gather}
gives back the expectation. We control its rate 
with the factor of basis rates and primal weights.
Choose $d$ to be faster than $\sqrt{n}$.
The rest follows with standard empirical theory.
Expectations are 0.
$\norm{\delta}$ has to converge fast enough.
\begin{align*}
  &
  \sqrt{N}
  \cdot
  \E
  \left[ 
    \left( 
    T
    \cdot
    w(X)
    -
    1
    \right)
    \left( 
      \P
      [
      Y(1)\le t
      |X
      ]
      -
      \inner
      {B(X)}
      {\lambda^*}
    \right)
  \right]
  \\
  &
  \ 
  =
  \ 
  \sqrt{N}
  \cdot
  \E
  \left[ 
    \pi(X)
    \cdot
    \left( 
    w(X)
    -
    1
    /
    \pi(X)
    \right)
    \left( 
      \P
      [
      Y(1)\le t
      |X
      ]
      -
      \inner
      {B(X)}
      {\lambda^*}
    \right)
  \right]
  \\
  &
  \ 
  \le
  \ 
  \sqrt{N}
  \cdot
  \E
  \left[ 
    \left| 
    w(X)
    -
    1
    /
    \pi(X)
    \right|
    ^2
    \right]
    ^{1/2}
  \E
  \left[ 
    \left| 
      \P
      [
      Y(1)\le t
      |X
      ]
      -
      \inner
      {B(X)}
      {\lambda^*}
    \right|
    ^2
    \right]
    ^{1/2}
    \\
  &
  \ 
  \le
  \ 
  C
  \sqrt{N}
  \sqrt{\log(N)}
  N^{-1/(d+2)}
  \cdot
  N^{-1/(d+2)}
    \\
  &
  \ 
  \le
  \ 
  C
  \sqrt{\log(N)}
  N^{-1/6}
  \to 0
  \qquad
  \text{for}\ 
  N\to\infty
\end{align*}
Note, that we get no convergence for $d>1$. 
Also note that
\begin{gather*}
  \E
  \left[ 
    T
    \cdot
    w(X)
    -
    1
    |
    X,
    X_1,
    \ldots,
    X_N
    \right]
    =
  \E
  \left[ 
    T
    |
    X
    \right]
    w(X)
    -
    1
    =
    \pi(X)
    \left( 
      w(X)
      -
      1/\pi(X)
    \right)
\end{gather*}
\end{proof}
Let 
\begin{gather}
  B_{\mathcal{F}}
  :=
  \left\{ 
    f\in \mathcal{F}
    \colon
    \norm{f}_\infty
    \le
    1
  \right\}
\end{gather}
be the intersection of the unit ball with $\mathcal{F}$.
\begin{lemma}
  Let $(\varepsilon_N)$ be a sequence converging to 0
  and let 
  $
  \left( 
    \mathcal{F}_N
  \right)
    :=
    \left( 
    \varepsilon_N\cdot B_\mathcal{F}
    \right)
  $
  denote the sequence of scaled unit balls in $\mathcal{F}$.
  Assume that 
  there exists
  $k<2$ such that 
  the covering number of the unit ball in $\mathcal{F}$
  satisfies
  \begin{gather}
        \log 
      N_{[\,]}
\left( \varepsilon, B_\mathcal{F},\mathrm{L}_2(\P) \right)
\ 
\le
\ 
\left( \frac{1}{\varepsilon} \right)^k
\qquad
\text{for all}\ 
\varepsilon>0
\,.
  \end{gather}
  Then it holds
  $
      \norm{G_N}^*_{\mathcal{F}_N}
    \ 
    \overset{\P}
    {\to}
    \ 
    0
  $
  for $N\to \infty$. 
\end{lemma}
\begin{proof}
  By maximal inequalities it holds
  \begin{align*}
    \E^*
    \left[ 
      \norm{G_N}_{\mathcal{F}_N}
    \right]
    &
      \ 
      \lesssim
      \ 
      J_{[\,]}\left( \varepsilon_N, \mathcal{F}_N,\mathrm{L}_2(\P) \right)
      \\
    &
      \ 
      =
      \ 
      \int_0^{\varepsilon_N}
      \sqrt{
        \log 
      N_{[\,]}
\left( \varepsilon, \mathcal{F}_N,\mathrm{L}_2(\P) \right)
    }
    \,
    d\varepsilon
    \\
    &
    \ 
    =
    \ 
      \int_0^{\varepsilon_N}
      \sqrt{\log 
      N_{[\,]}
\left( \varepsilon/\varepsilon_N, B_\mathcal{F},\mathrm{L}_2(\P) \right)
    }
    \,
    d\varepsilon
    \\
    &
    \ 
    \le
    \ 
      \int_0^{\varepsilon_N}
      \left( 
      \frac{\varepsilon_N}{\varepsilon}
    \right)^{k/2}
    \,
    d\varepsilon
    \\
    &
    \ 
    \lesssim
    \ 
  \varepsilon_N^{k/2}
  \frac{1}{1-k/2}
  \varepsilon_N^{1-k/2}
  \\
    &
    \ 
  \lesssim
    \ 
  \varepsilon_N
  \\
    &
    \ 
  \to
  \ 
  0
  \qquad
  \text{for}\ 
  N\to
  \infty
  \,.
  \end{align*}
  Note, that $k<2$.
  By the boundedness of $\E^*$ there is no measurability problem.
  By Markov's Inequality it holds
  \begin{align*}
    \P
    \left[ 
      \norm{G_N}^*_{\mathcal{F}_N}\ge \varepsilon
    \right]
    \le
    \varepsilon^{-1}
    \,
    \E^*
    \left[ 
      \norm{G_N}_{\mathcal{F}_N}
    \right]
    \ 
    \to
    \ 
    0
    \qquad
    \text{for}\ 
    N\to\infty
    \,.
  \end{align*}
\end{proof}
We define $f^\dagger$ by
\begin{gather}
  f^\dagger(T,X,Y)
  :=
  T
  \left( 
    (f^{'})^{-1}
    \left( 
      \inner
      {B(X)}
      {\lambda^\dagger}
    +
    \lambda_0^\dagger
    \right)
    -
    \frac{1}{\pi(X)}
  \right)
  \left( 
    Y(T)
    -
    \E
    [
    Y(1)|X
    ]
  \right)
\end{gather}
\begin{lemma}
  Assume that 
  $f^\dagger \in \mathcal{F}$ almost surely 
  for some function class $\mathcal{F}$ satisfying the requirements 
  of the previous lemma. It then holds
  $
  \left| G_Nf^\dagger \right|
  \overset{\P}{\to}0$ for 
  $N\to\infty$.
\end{lemma}
\begin{proof}
  Let $(\varepsilon_N)$ be the lr of the primal
  then
  \begin{gather}
    \P
    \left[ 
      f^\dagger
      \in
      \mathcal{F}_N
    \right]
    \to 1
    \qquad
    \text{for}\ 
    N\to\infty
    \,.
  \end{gather}
  For all $\varepsilon>0$ it holds
  \begin{align*}
    \P
    \left[ 
  \left| G_Nf^\dagger \right|
  \le
  \varepsilon
    \right]
    &
    \ 
    \ge
    \ 
    \P
    \left[ 
  \left| G_Nf^\dagger \right|
  \le
  \norm{G_N}^*_{\mathcal{F}_N}
  \le
  \varepsilon
    \right]
    \\
    &
    \ 
    \ge
    \ 
    \P
    \left[ 
      f^\dagger\in\mathcal{F}_N
      \ 
      \text{and}\ 
  \norm{G_N}^*_{\mathcal{F}_N}
  \le
  \varepsilon
    \right]
    \\
    &
    \ 
    \ge
    \ 
    \P
    \left[ 
      f^\dagger\in\mathcal{F}_N
    \right]
    -
    \P
    \left[ 
  \norm{G_N}^*_{\mathcal{F}_N}
    \ 
  \ge
    \ 
  \varepsilon
    \right]
    \\
    &
    \ 
    \to
    \ 
    1
    \,.
  \end{align*}
  The last step is due to Lemma.
\end{proof}

