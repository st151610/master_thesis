There are different ways
to generate weights for covariate balance.
%
We discussed this in the introduction.
%
Now, we introduce the balancing weights framework of Wang and Zubizarreta~\cite{Wang2019}.
%
It consists of a (generic) convex optimization problem
that enforces covariate balance by constraints on the search space.
%
Similar to classical propensity score estimates, it
extracts from the data only information about treatment status and individual characteristics.
%
The outcome is ignored.
%
This gives the additional option to balance covariates before observing outcomes or use the same set of weights for inference on different outcomes.

%
The primary optimization task is to minimize an objective function
over a predefined search space.
%
From a practical point of view, the objective function
instils additional goodness in the weights, 
for example, 
low sample variance \cite[Introduction]{Zubizarreta2015}. 
%
%
More important, however, are the constraints that enforce covariate balance.
%
Both objective function and design of the constraints distinguish the method.
%

After introducing the problem, we shall derive it's dual formulation in the spirit of Theorem~\ref{cv:ts:th}.
This transformation gives us the chance to analyse the initial problem by a problem with simpler constraints but more complicated objective function.
It turns out that this is the right way to go.
We adopt ideas from \cite{Wang2019, Tseng1991} that show how to analyse the dual problem and link the results back to the original problem. 
\section{Introduction}
\input{chapters/optimization_problem/intro.tex}
\input{chapters/optimization_problem/primal_problem.tex}
\section{Objective Function}
\input{chapters/optimization_problem/object_f.tex}
\section{Dual Problem}
In the previous section we have expounded our choice of $\varphi$ - and with it the objective function of Problem~\ref{bw:1:primal}.
%
Now, we want to apply Theorem~\ref{cv:ts:th} to Problem~\ref{bw:1:primal}.
%
To this end, we provide its proper formulation.
%
\input{chapters/optimization_problem/dual_form.tex}

%Bring optimal solutions together. with argmax meas. and Proposition for aSsumption and assumption.

%It is useful too define a weights function
%New chapter?

%Before we define the weights function we specify the basis $\mathfrak{B}$.
%\subsection{basis}
%\input{chapters/consistency_weights/basis.tex}
%\subsection{Weights Function}
%\input{chapters/optimization_problem/weights_function.tex}

