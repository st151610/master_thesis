We follow \cite{Aliprantis2007}.
A \textbf{correspondence} $\psi$ from a set $S_1$ to a set $S_2$ assigns to each $s_1\in S_1$ a subset $\psi(s_1)\subset S_2$.
To clarify that we map $s_1$ to a set, we use the double arrow, that is,
$
  \psi
  \colon
  S_1
  \twoheadrightarrow
  S_2
$.
  Let 
  $(\mathcal{Z},\Sigma_{\mathcal{Z}})$ be a measurable space and $\mathcal{S}$  a topological space.
  We say, that a correspondence 
  $
  \psi
  \colon
  \mathcal{Z}
  \twoheadrightarrow
  \mathcal{S}
  $
  is 
  \textbf{
  weakly measurable
  },
  if
  \begin{gather*}
    \left\{ 
      z\in \mathcal{Z}
      \ 
      |
      \ 
      \psi(z)
      \cap
      O
      \neq
      \emptyset
    \right\}
    \in
    \Sigma_{\mathcal{Z}}
    \qquad
    \text{for all open subsets}
    \ 
    O\subset \mathcal{S}
    \,.
  \end{gather*}
  A \textbf{selector} from a correspondence $\psi\colon \mathcal{Z}\twoheadrightarrow \mathcal{S}$ is a function $s\colon \mathcal{Z}\to \mathcal{S}$ that satisfies 
  \begin{align*}
s(z)\in\psi(z)
\qquad
\text{for all}\ 
z\in\mathcal{Z}
\,.
  \end{align*}
  

\begin{definition}
  Let 
  $(\mathcal{Z},\Sigma_{\mathcal{Z}})$ be a measurable space, and let $\mathcal{S}_1$ and $\mathcal{S}_2$  be topological space.
  A function 
  $f\colon \mathcal{Z}\times \mathcal{S}_1 \to \mathcal{S}_2$
  is a \textbf{Caratheodory function} if
  \begin{align*}
    f(\cdot,s_1)
    &
    \colon
    \mathcal{Z}\to \mathcal{S}_2
    \qquad
    \text{is}\ 
    (\Sigma_{\mathcal{Z}},\mathcal{B}(\mathcal{S}_2))-measurable
    \ 
    \text{for all}
    \ 
    s_1\in \mathcal{S}_1
    \,,
    \intertext{and}
    f(z,\cdot)
    &
    \colon
    \mathcal{Z}\to \mathcal{S}_2
    \qquad
    \text{is continuous for all}\ 
    z\in \mathcal{Z}
    \,.
  \end{align*}
\end{definition}
\begin{theorem}
  \label{th:argmax}
  Let $\mathcal{S}$ be a separable metrizable space and
  $
  (\mathcal{Z},\Sigma_{\mathcal{Z}})
  $
  a measurable space.
  Let $\psi\colon \mathcal{Z} \twoheadrightarrow \mathcal{S}$ be a weakly measurable correspondence with non-empty compact values, and suppose
  $f\colon \mathcal{Z}\times \mathcal{S} \to \R$
  is a Caratheodory function. Define the value function 
  $m\colon \mathcal{Z}\to \R$ by
  \begin{gather*}
    m(z):=\max_{s\in\psi(z)}f(z,s)
    \,,
  \end{gather*}
  and the correspondence 
  $\mu\colon \mathcal{Z}\twoheadrightarrow \mathcal{S}$ of maximizers by
  \begin{gather*}
    \mu(z):= \left\{ 
      s\in \psi(z)
      |
      f(z,s)=m(z)
    \right\}
    \,.
  \end{gather*}
  Then the value function $m$ is measurable, 
  the argmax correspondence $\mu$ has non-empty and compact values,
  is measurable and admits a measurable selector.
\end{theorem}
\begin{proof}
  \cite[Theorem~18.19]{Aliprantis2007}
\end{proof}
\begin{takeaways}
  Solving an optimization problem that has a Caratheodory objective function on a weakly-measurable, non-empty and compact search space, allows for measurable optimal solutions.
\end{takeaways}
