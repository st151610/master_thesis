To control empirical processes - apart from strong theorems - we need the notion of bracketing number and integral (see \cite[page 270]{Vaart2000}). 
Given two functions $\underline{f}\le \overline{f}$,
\begin{gather*}
  \text{
the bracket
  }\quad
[\underline{f},\overline{f}]
\quad 
\text{
is the set of all functions $f$ with 
}\quad 
\underline{f}\ \le\ f \ \le\  \overline{f}
\,.
\end{gather*}
For $\varepsilon>0$
we define a
\begin{gather*}
  \text{
$(\varepsilon, L^{r}(\P))$ -bracket
to be a bracket
  }
  \quad
[\underline{f},\overline{f}]
\quad
\text{with}
\quad
\norm{\overline{f}-\underline{f}}_{ L^r(\P)}
\ <\  \varepsilon
\,.
\end{gather*}
The \textbf{
bracketing number
} 
$
N_{[\,]}(\varepsilon, \mathcal{F}, L^r(\P))
$
is 
the minimum number of 
$(\varepsilon, L^{r}(\P))$-brackets needed to cover $\mathcal{F}$.

For most classes $\mathcal{F}$ the bracketing number grows to infinity for $\varepsilon\to 0$.
To measure the speed of growth we introduce 
for $\delta>0$
the
\textbf{bracketing integral}
\begin{gather*}
     J
    _{[\,]}
    (
    \delta
    ,
    \mathcal{F}
    ,
    L_r(\P)
    )
    \ 
    =
    \ 
  \int_0^{\delta}
      \sqrt{
        \log 
      N_{[\,]}
\left( \varepsilon, \mathcal{F}_N, L^r(\P) \right)
    }
    \,
    d\varepsilon
    \,.
\end{gather*}

Next we give a technical lemma to 
bound the bracketing numbers of products of two function classes, that is,
\begin{gather*}
  \mathcal{F}\cdot \mathcal{G}
  \ 
  :=
  \ 
  \left\{ 
    f\cdot g
    \ 
    \colon
  \ 
    f\in\mathcal{F},
    g\in\mathcal{G}
  \right\}\,.
\end{gather*}
\begin{lemma}
  \label{lem_prod_br}
  Let
  $\mathcal{F}$ and $\mathcal{G}$ be two function classes 
  with envelope functions $F$ and $G$ satisfying
  $\norm{F}_\infty,\norm{G}_\infty\le 1$.
  For all $\varepsilon>0$ and all $r\in [1,\infty)$ it holds
  \begin{gather*}
    N_{[\,]}(2\varepsilon,\mathcal{F}\cdot\mathcal{G},\mathrm{L}_r(\P))
    \
    \le
    \ 
    N_{[\,]}(\varepsilon,\mathcal{F},\mathrm{L}_r(\P))
    \cdot
    N_{[\,]}(\varepsilon,\mathcal{G},\mathrm{L}_r(\P))
    \,.
  \end{gather*}
\end{lemma}
\begin{proof}
  The proof is simple. We omit the details.
%  Let $f\in\mathcal{F}$ and $g\in\mathcal{G}$.
%  We can choose two 
%  $(\varepsilon,L^r(\P))$
%  brackets
%  $[\underline{f},\overline{f}]$
%  and
%  $[\underline{g},\overline{g}]$
%  containing $f$ and $g$ with 
%  $\norm{\underline{f}}_\infty,\norm{\overline{f}}_\infty\le\norm{F}_\infty\le 1$
%  and
%  $\norm{\underline{g}}_\infty,\norm{\overline{g}}_\infty\le\norm{G}_\infty\le 1$.
%  We the get an 
%  $(2\varepsilon,L^r(\P))$
%  $[\underline{h},\overline{h}]$
%  bracket, containing $f\cdot g$, by
\end{proof}
The following has the advantage of being both example (for the interested reader) and helpful for the subsequent analysis.

For $z\in\R$ we define the function
  \begin{align*}
    f_z
    \ 
    :
    \ 
      \left\{ 0,1 \right\}
      \times
      \mathcal{X}
      \times
      \mathcal{Y}
    &
    \ 
    \to
    \ 
    \R
    \\
      (t,x,y)
    &
      \ 
      \mapsto
      \ 
      t
      \left( 
        \mathbf{1}
        _{\left\{  y\,\le\,z \right\}}
        -
        F_{Y(1)}(z|x)
      \right)
      \,,
  \end{align*}
    Next we define the function classes
  \begin{gather}
    \label{F_g}
    \begin{split}
    \mathcal{F}
    &
    \ 
    :=
    \ 
    \left\{ 
      f_z
      \ 
      |
      \ 
      z\in\R\ 
    \right\}
    \\
    \mathcal{G}
    &
    \ 
    :=
    \ 
    \left\{ 
      \frac{f_z}{\pi(\cdot)}
      +
      F_{Y(1)}(z|\cdot)
      -
      F_{Y(1)}(z)
      \ 
      \colon
      \ 
      z\in\R\ 
    \right\}
    \,.
    \end{split}
  \end{gather}
Next, we provide bracketing numbers for these classes.
\begin{lemma}
  \label{aa:mean:l:br}
  The function class $\mathcal{F}$ and $\mathcal{G}$ defined in \eqref{F_g} are measurable.
  Furthermore, 
  \begin{gather*}
    N_{[\,]}
    (
    \varepsilon
    ,
    \mathcal{F}, L^2(\P))
    \ 
    \lesssim
    \ 
    \left( 
      \frac{1}{\varepsilon}
    \right)^2
    \qquad
    \text{for all}
    \ 
    \varepsilon>0
    \,.
  \end{gather*}
  If $1/\pi(X)\in L^2(\P)$, it also holds 
  \begin{gather*}
    N_{[\,]}
    (
    \varepsilon
    ,
    \mathcal{G}, L^2(\P))
    \ 
    \lesssim
    \ 
    \left( 
    \frac{
      1+
    \norm{1/\pi(X)}_{ L^2(\P)}
    }
    {\varepsilon}
    \right)^4
    \qquad
    \text{for all}
    \ 
    \varepsilon>0
    \,.
  \end{gather*}
%  Furthermore, 
%  consider the function class
%  \begin{gather*}
%    \mathcal{G}
%    :=
%    \left\{ 
%      f_{1/\pi}^z
%      +
%        F_{Y(1)}(z|\cdot)
%        -
%        F_{Y(1)}(z)
%      \ 
%      |
%      \ 
%      z\in\R
%    \right\}
%    \,.
%  \end{gather*}
%  If $1/\pi(X)\in  L^2(\P)$
%  it holds
%  \begin{gather}
%    N_{[\,]}(\varepsilon,\mathcal{G}, L^2(\P))
%    \le
%    ??
%    \qquad
%    \text{for all}
%    \ 
%    \varepsilon>0
%    \,.
%  \end{gather}
\end{lemma}
\begin{proof}
  As in \cite[Example~19.6]{Vaart2000}
  we choose for
  $\varepsilon>0$ and $m\in\mathbb{N}$
  \begin{gather*}
  -\infty=z_0\ <\ z_1\ <\ \cdots\ <\ z_{m-1}\ <\ z_m=\infty
  \,
  \end{gather*}
  such that
  \begin{gather}
    \label{size_z}
    \P
    \left[ 
      Y(1)\in \left[ z_{l-1},z_l \right]\,
    \right]
    \ 
    \le
    \ 
    \varepsilon
    \qquad
    \text{for all}\ 
    l\in \left\{ 1,\ldots,m \right\}
  \end{gather}
  and $m \le 2/\varepsilon$.
  Next, we define $m$ brackets by
\begin{align*}
  \overline{f_l}
  (t,x,y)
  &
  \ 
  :=
  \ 
      t
      \left( 
        \mathbf{1}
        _{\left\{  y\,\le\,z_{l} \right\}}
        -
        F_{Y(1)}(z_{l-1}|x)
      \right)
      \,,
      \\
  \underline{f_l}
  (t,x,y)
  &
  \ 
  :=
  \ 
      t
      \left( 
        \mathbf{1}
        _{\left\{  y\,\le\,z_{l-1} \right\}}
        -
        F_{Y(1)}(z_l|x)
      \right)
      \,,
\end{align*}
for $l\in \left\{ 1,\ldots,m \right\}$.
These brackets cover $\mathcal{F}$.
Indeed,
\begin{gather*}
  \text{for all}\ 
  z\in\R
  \ 
  \text{there exists} \ 
l\in \left\{ 1,\ldots,m \right\}
\qquad 
\text{such that}\qquad
z_{l-1}
\ 
\le
\ 
z
\ 
\le
\ 
z_l
\,.
\end{gather*}
By the monotonicity of 
$
        \mathbf{1}
      _{\left\{  y\,\le\,(\cdot) \right\}}
$
and
$
        F_{Y(1)}(\cdot|x)
$
and the non-negativity of $T$ it follows
\begin{gather*}
  \text{for all}\ 
  z\in\R
  \ 
  \text{there exists} \ 
l\in \left\{ 1,\ldots,m \right\}
\qquad 
\text{such that}\qquad
  \underline{f_l}
  \ 
  \le
  \ 
  f_z
  \ 
  \le
  \ 
  \overline{f_l}
  \,.
\end{gather*}
Thus, the $m$ brackets 
$
[
  \underline{f_l}
  ,
  \overline{f_l}
]
$
cover $\mathcal{F}$.

Let's calculate the size of the brackets.
It holds
\begin{align*}
  &
\E
\left[ 
      T
      \cdot
      \left( 
        \mathbf{1}
        _{\left\{  Y(T)\,\le\,z_{l} \right\}}
        -
        F_{Y(1)}(z_{l-1}|X)
        \ 
        -
        \ 
        \mathbf{1}
        _{\left\{  Y(T)\,\le\,z_{l-1} \right\}}
        +
        F_{Y(1)}(z_{l}|X)
      \right)
      \,
\right]
\\
  &
  \ 
=
  \ 
\E
\left[ 
      T
      \cdot
      \left( 
        \mathbf{1}
        _{\left\{
        Y(T)
        \,
        \in 
        \,
    [z_{l-1},z_l]
\right\}}
\ 
        +
\ 
        \P
        \left[ 
          Y(1)
          \in
    [z_{l-1},z_l]
        \,
    |
        \,
    X
        \right]
      \right)
      \,
\right]
\\
  &
  \ 
\le
  \ 
\E
\left[ 
  \,
  \pi(X)
  \cdot
        \P
        \left[ 
          Y(1)
          \in
    [z_{l-1},z_l]
          \,
    |
          \,
    X
        \right]
          \ 
\right]
\ 
+
\ 
\varepsilon
\\
  &
  \ 
\le
  \ 
2
\,
\varepsilon
\,.
\end{align*}
We used \eqref{size_z}, $0\le T,\pi(X)\le 1$ and Lemma~\ref{ps_weights_lemma}.
It follows
\begin{align*}
  &
  \norm{
    \left( 
  \overline{f_l}
-
  \underline{f_l}
    \right)
  (T,X,Y(T))
}_
{ L^2(\P)}
\\
&
\ 
\lesssim
\ 
\E
\left[ 
  \,
      T
      \cdot
      \left( 
        \mathbf{1}
        _{\left\{
        Y(T)
        \,
        \in 
        \,
    [z_{l-1},z_l]
\right\}}
\ 
        +
\ 
        \P
        \left[ 
          Y(1)
          \in
    [z_{l-1},z_l]
        \,
    |
        \,
    X
        \right]
      \right)
      \,
   \right]^{1/2}
\ 
\lesssim
\ 
\varepsilon^{1/2}
\,.
\end{align*}
Since $m\le 2/\varepsilon$ it holds
  \begin{align*}
    N_{[\,]}
    \left(
\varepsilon^{1/2}
    ,
    \,
    \mathcal{F}\,,\, L^2(\P)
    \right)
    &
    \ 
    \lesssim
    \ 
    \frac{1}{\varepsilon}
    \intertext{and thus}
    N_{[\,]}
    (
    \varepsilon
    ,
    \mathcal{F}, L^2(\P))
    &
    \ 
    \lesssim
    \ 
    \left( 
      \frac{1}{\varepsilon}
    \right)^2
    \,.
  \end{align*}
  Next, we look at $\mathcal{G}$. To this end, we define 
  $m$ brackets by
 \begin{align*}
    \overline{g_l}
    (t,x,y)
    \ 
    :=
    \ 
    \frac{t}{\pi(x)}
    \left( 
      \mathbf{1}{\left\{  y\,\le\,z_{l} \right\}}
      -
      F_{Y(1)}(z_{l-1}|x)
    \right)
    \ 
    +
    \ 
    F_{Y(1)}(z_{l}|x)
-
F_{Y(1)}(z_{l-1})
\,,
\\
    \underline{g_l}
    (t,x,y)
    \ 
    :=
    \ 
    \frac{t}{\pi(x)}
    \left( 
      \mathbf{1}{\left\{  y\,\le\,z_{l-1} \right\}}
      -
      F_{Y(1)}(z_l|x)
    \right)
    \ 
    +
    \ 
    F_{Y(1)}(z_{l-1}|x)
-
      F_{Y(1)}(z_l)
\,,
  \end{align*}
  for $l\in \left\{ 1,\ldots,m \right\}$.
  With the same arguments as before, we see that these brackets cover $\mathcal{G}$.
  Let's calculate the size.
  It holds
  \begin{align*}
    &
    \norm{
      \frac{T}{\pi(X)}
      \left( 
      \mathbf{1}{
      \left\{ 
      Y(T)\in [z_{l-1},z_l] 
    \right\}
    }
      +
      \P
      \left[ 
      Y(1)\in [z_{l-1},z_l] 
      \,
      |
      \,
      X
      \right]
      \right)
    }_{ L^2(\P)}
    \\
    &
    \
    \lesssim
    \
    \left( 
      \E
      \left[ 
        \frac{1}{\pi(X)}
        \frac{T}{\pi(X)}
      \left( 
      \mathbf{1}{
      \left\{ 
      Y(T)\in [z_{l-1},z_l] 
    \right\}
    }
      +
      \P
      \left[ 
      Y(1)\in [z_{l-1},z_l] 
      \,
      |
      \,
      X
      \right]
      \right)
      \right]
    \right)
    ^{1/2}
    \\
    &
    \
    \lesssim
    \
    \left( 
      \E
      \left[ 
        \frac{1}{\pi(X)}
      \P
      \left[ 
      Y(1)\in [z_{l-1},z_l] 
      \,
      |
      \,
      X
      \right]
      \right]
    \right)
    ^{1/2}
    \\
    &
    \ 
    \lesssim
    \ 
    \left( 
      \norm{1/\pi(X)}_{ L^2(\P)}
      \sqrt{\varepsilon}
    \right)
    ^{1/2}
    \ 
    =
    \ 
    \varepsilon^{1/4}
    \norm{1/\pi(X)}_{ L^2(\P)}^{1/2}
  \end{align*}
  and
  \begin{align*}
     \norm{
      \P
      \left[ 
      Y(1)\in [z_{l-1},z_l] 
      \,
      |
      \,
      X
      \right]
      \ 
     + 
      \ 
      \P
      \left[ 
      Y(1)\in [z_{l-1},z_l] \,
      \right]
    }_{ L^2(\P)}
    \ 
    \lesssim
    \ 
    \varepsilon^{1/2}
    \,.
  \end{align*}
  Thus
  \begin{align*}
  \norm{
    \left( 
  \overline{g_l}
-
  \underline{g_l}
    \right)
  (T,X,Y(T))
}_
{ L^2(\P)}
    &
\ 
\lesssim
\ 
\varepsilon^{1/4}
\left( 
  1
  +
    \norm{1/\pi(X)}_{ L^2(\P)}^{1/2}
\right)
\\
    &
\ 
\lesssim
\ 
\varepsilon^{1/4}
\left( 
  1
  +
    \norm{1/\pi(X)}_{ L^2(\P)}
\right)
\,.
  \end{align*}
As before, it follows
\begin{gather*}
    N_{[\,]}
    (
    \varepsilon
    ,
    \mathcal{G}, L^2(\P))
    \ 
    \lesssim
    \ 
    \left( 
    \frac{
      1+
    \norm{1/\pi(X)}_{ L^2(\P)}
    }
    {\varepsilon}
    \right)^4
    \,.
\end{gather*}
\end{proof}
Before we give another example, we fix some useful properties of $f_z$.
\begin{lemma}
    \label{lem:f_z}
    It holds
    $f_z(T,X,Y(T))\in L^1(\P)$
    and 
    $f_z(T,X,Y(T))\perp D_N$
    for all $z\in\R$.
    If \eqref{asu:treatment_asign_str_ing} also holds,
    then 
    for all $z\in\R$
    \begin{gather*}
      \E
      \left[
        f_z
        \left( 
          T,
          X,
          Y(T)
        \right)
        \,
        |
        \,
        X
      \right]
      \ 
      =
      \ 
      0
      \qquad
      \text{almost surely.}
    \end{gather*}
  \end{lemma}
  \begin{proof}
    Since $f_z$ is bounded by 1,
    it holds
    $f_z(T,X,Y(T))\in L^1(\P)$.
    Since
    \begin{gather*}
    (T,X,Y(T))
    \ 
    \perp 
    \ 
    D_N
    \ 
    =
    \ 
    (T_i,X_i)_{i\in \left\{ 1,\ldots,N \right\}}
    \end{gather*}
    it holds
    $f_z(T,X,Y(T))\perp D_N$
    for all $z\in\R$.
    For the third statement, note that
    \begin{align*}
      \E
      \left[
        f_z
        \left( 
          T,
          X,
          Y(T)
        \right)
        \,
        |
        \,
        X
      \right]
      &
      \ 
      =
      \ 
      \E
      \left[
      T
      \left( 
        \mathbf{1}
        _{\left\{  Y(T)\,\le\,z \right\}}
        -
        F_{Y(1)}(z|X)
      \right)
        \,
        |
        \,
        X
      \right]
      \\
      &
      \ 
      =
      \ 
      \E
      \left[
        \mathbf{1}
        _{\left\{  Y(1)\,\le\,z \right\}}
        -
        F_{Y(1)}(z|X)
        \,
        |
        \,
        X
        ,
        T=1
      \right]
      \pi(X)
      \\
      &
      \ 
      =
      \ 
      \left( 
      \E
      \left[
        \mathbf{1}
        _{\left\{  Y(1)\,\le\,z \right\}}
        \,
        |
        \,
        X
      \right]
      \ 
        -
      \ 
        F_{Y(1)}(z|X)
      \right)
      \pi(X)
      \\
      &
      \ 
      =
      \ 
      0
      \qquad
      \text{almost surely.}
    \end{align*}
    The third equality is due to \eqref{asu:treatment_asign_str_ing}.
  \end{proof}

Next, consider the stochastic process (indexed over $x\in\R^d$)
\begin{gather}
  \label{ghost_function}
  \mathbf{1}{
    \left\{ 
      \sup_{y\in A_N(x)}
      \left| 
      w_0^\dagger(y)
      -
      \frac{1}{\pi(y)}
      \right|
      \,
      \le
      \,
      \varepsilon_N
    \right\}
  }
  \left( 
    w_0^\dagger(x)
      -
      \frac{1}{\pi(x)}
  \right)
  \cdot
  \mathbf{1}
  \bigcup_{k=1}^n
  \left\{ 
    x=X_k
  \right\}
  \,,
\end{gather}
where $(\varepsilon_N)$ is the learning rate of Theorem~\ref{th:max_weight_cons}.
We show, 
that under mild regularity conditions on the inverse propensity score function all paths of \eqref{ghost_function} are contained in shrinking function classes $(\mathcal{F}_N)$ - and provide bracketing numbers. 
To be more precise, we need theory from \cite[§2.7.1]{vaart2013}.

Let for any vector $k\in\mathbb{N}_0^d \ (d\in\R)$
\begin{gather*}
  D^k
  \ :=\ 
  \frac
  {\partial^{\norm{k}_1}}
  {
    \partial^{k_1}x_1
    \cdots
    \partial^{k_d}x_d
  }
  \,,
\end{gather*}
and let $\lfloor a \rfloor$ be the greatest integer smaller than $a>0$.
For $\alpha>0$, a bounded set 
$\mathcal{Z}\subset\R^d\ (d\in\mathbb{N})$
and
$M>0$, we define 
$C^\alpha_M(\mathcal{Z})$
to be the space of all continuous functions $f\colon \mathcal{Z}\to\R$ with
\index{
$C^\alpha_M(\mathcal{Z})$, certain space of continuous functions
}
\begin{gather*}
  \label{def:c_alpha}
  \max_{\norm{k}_1\le \alpha}\sup_{x\in\mathcal{Z}}
  \left| D^k f(x) \right|
  \ 
  +
  \ 
  \max_{\norm{k}_1=\lfloor \alpha \rfloor}\sup_{x,y}
  \frac
  {
  \left|
  D^k f(x) 
  -
  D^k f(y) 
  \right|
  }
  {
    \norm{x-y}_2^{\alpha-\lfloor \alpha \rfloor}
  }
  \
  \le
  \ 
  M
  \,.
\end{gather*}
where the suprema in the second term are taken over all $x,y$ in the interior of $\mathcal{Z}$ with $x\neq y$.
Furthermore, let
\begin{gather*}
  \mathcal{Z}^1
  :=
  \left\{ 
    y\in\R^d
    \colon
    \norm{x-y}_2 <1
    \ 
    \text{for some}\ x\in\mathcal{Z}
  \right\}
  \,.
\end{gather*}
\begin{lemma}
  \label{vdv_coro}
  Let $\mathcal{P}=\left\{ A_1,A_2,\ldots \right\}$ be a partition of $\R^d$ into bounded, convex sets with non-empty interior, and let $\mathcal{F}$ be a class of functions $f\colon\R^d\to\R$ such that the restrictions $\mathcal{F}_{|A_j}$ belong to $C^\alpha_{M_j}(A_j)$
  for all $j\in\mathbb{N}$.
  Then there exists a constant $K$, depending only on $\alpha$, $V$, $r$ and $d$
  such that
  \begin{gather}
    \label{667}
    \log
    N_{[\,]}
    (
    \varepsilon
    ,
    \mathcal{F}
    ,
    L^r(\mathbf{Q})
    )
    \le
    K
    \left( \frac{1}{\varepsilon} \right)^V
    \left( 
      \sum_{j=1}^{\infty}
      \lambda(A_j^1)^{r/(V+r)}
      M_j^{Vr/(V+r)}
      \mathbf{Q}(A_j)^{V/(V+r)}
    \right)
    ^{(V+r)/r}
  \end{gather}
  for every $\varepsilon>0$, $V\ge d/\alpha$, and probability measure $\mathbf{Q}$.
\end{lemma}
\begin{proof}
  \emph{\cite[Corollary~2.7.4]{vaart2013}}
\end{proof}

The next lemma gives sufficient conditions on the regularity of the inverse propensity score function.
\begin{lemma}
  \label{lem:br_n_st}
  Let $(\mathcal{P}_N)$ denote a sequence of partitions
  $\mathcal{P}_N=\left\{ A_{N,1},A_{N,2},\ldots \right\}$ 
  of $\R^d$ 
  with decreasing width $(h_N)\subset(0,1]$ such that $h_N\to 0$ for $N\to\infty$.
  Furthermore, assume that there exists
  $\alpha>d/2$, where $\mathcal{X}\subseteq \R^d$, such
  that for 
  $V:=d/\alpha$
 and for all 
$
(j,N)\in\mathbb{N}^2
$
there exists 
$M_{N,j}\ge 1$ such that 
\begin{gather}
  \label{0897}
  \frac{1}{\pi(\cdot)}
  \in C^\alpha_{M_{N,j}}(A_{N,j})
  \quad
  \text{and}
  \quad
  \sum_{j=1}^{\infty} 
  M_{N,j}^{2V/(V+2)}
  \P
  [
  X\in A_{N,j}
  ]^{V/(V+2)}
  \ 
  \lesssim
  \ 
  1
  \,.
\end{gather}
Then for any decreasing sequence
  $(\varepsilon_N)$ with $\varepsilon_N\to 0$ for $N\to\infty$,
there exists a sequence of (measurable) function classes
$(\mathcal{F}_N)$
with envelope functions
$(F_N)$,
satisfying 
for some $k<2$
\begin{gather*}
\norm{F_N}_{L^2(\P)}
\ 
\le
\ 
\varepsilon_N
\quad
\text{and}
\quad
  \log
  N_{[\,]}(\varepsilon,\mathcal{F}_N,\mathrm{L}_2(\P_{X}))
  \ 
  \lesssim
  \ 
  \left( 
  \frac{1}{\varepsilon}
  \right)^k
  \quad
  \text{for all}
  \ 
  N\in\mathbb{N}
  \,,
\end{gather*}
such that
for all $N\in\mathbb{N}$ the paths of the stochastic process
\begin{gather}
  \label{error_process}
  \mathbf{1}{
    \left\{ 
      \sup_{y\in A_N(x)}
      \left| 
      w_0^\dagger(y)
      -
      \frac{1}{\pi(y)}
      \right|
      \,
      \le
      \,
      \varepsilon_N
    \right\}
  }
  \left( 
    w_0^\dagger(x)
      -
      \frac{1}{\pi(x)}
  \right)
  \cdot
  \mathbf{1}
  \bigcup_{k=1}^N
  \left\{ x=X_k \right\}
  \,.
\end{gather}
are contained in $\mathcal{F}_N$.
\end{lemma}
\begin{proof}
  We want to employ Lemma~\ref{vdv_coro}. 
  To do this, the crucial observation is that by Lemma~\ref{lem:weights:meas}.\textit{(ii)}
  \begin{gather*}
    \text{the paths}\quad
    w^\dagger(\cdot)(\omega)
    \quad
    \text{are constant on each cell}\ 
    A_N\in\mathcal{P}_N
    \ \text{for all}\ \omega\in\Omega
    \,.
  \end{gather*}
  Thus, the regularity of a path of \eqref{error_process}
  on each cell $A_N\in\mathcal{P}_N$ is decided by 
  $1/\pi(\cdot)$.
  Indeed, a path of \eqref{error_process} is either 0 if the threshold of $\varepsilon_N$ is exceeded somewhere in the cell, or has the form constant-minus-smooth-function.
In any case, it is continuous and bounded by $\varepsilon_N$.
All its derivatives are 0 (if the threshold is exceeded) or are governed by $1/\pi(\cdot)$.
Thus, it follows from \eqref{0897}
\begin{gather}
  \eqref{error_process}(\cdot)(\omega)
  \in C^\alpha_{M_{N,j}}(A_{N,j})
  \quad
  \text{and}
  \quad
  \sum_{j=1}^{\infty} 
  M_{N,j}^{2V/(V+2)}
  \P
  [
  X\in A_{N,j}
  ]^{V/(V+2)}
  \ 
  \lesssim
  \ 
  1
  \,.
\end{gather}
To bound the right-hand-side in \eqref{667} we note
that 
$
\lambda(A_{N,j})=h^d_N
$ 
and thus
$
\lambda(A_{N,j}^1)\lesssim 1
$
for all $(j,N)\in\mathbb{N}^2$.
Thus
\begin{gather*}
  \sum_{j=1}^{\infty} 
  \lambda(A_{N,j}^1)^{2/(V+2)}
  M_{N,j}^{2V/(V+2)}
  \P
  [
  X\in A_{N,j}
  ]^{V/(V+2)}
  \ 
  \lesssim
  \ 
  1
  \,.
\end{gather*}
$
\eqref{error_process}(\cdot)(\omega)\in\mathcal{F}_N
$, 
where
$
\mathcal{F}_N
$
restricted to $A_{N,j}$ is 
$
  C^\alpha_{M_{N,j}}(A_{N,j})
$
and satisfies the requirements of Lemma~\ref{vdv_coro}.
Since $V=d/\alpha \in (0,2)$ by $\alpha>d/2$, 
applying Lemma~\ref{vdv_coro} finishes the proof.
\end{proof}
\begin{remark}
  Note, that we only get $L^2(\P_X)$ bracketing numbers in this way. If we assume, that all functions in $\mathcal{F}_N$ are independent of $(T,Y)$
  we readily obtain $L^2(\P)$ bracketing numbers. Note, that $w^\dagger(X)$ and $1/\pi(X)$ are independent of $(T,Y)$.  
\end{remark}
Next, we show, that a finite covariate space always meets the requirements of Lemma~\ref{lem:br_n_st} - and that a continuous distribution of $X$ never does so.
\begin{lemma}
  \label{lem:x_finite}
  Consider the covariate space $\mathcal{X}$. 
  \begin{enumerate}[label=(\roman*)]
    \item
If $\#\mathcal{X}<\infty$, that is, $X$ can take only finitely many values with positive probability,
then 
\begin{align*}
  \sum_{j=1}^{\infty} 
  M_{N,j}^{2V/(V+2)}
  \P
  [
  X\in A_{N,j}
  ]^{V/(V+2)}
  \ 
  \lesssim
  \ 
  1
  \,.
\end{align*}
\item
  If $X$ is continuously distributed, then
  \begin{align*}
  \sum_{j=1}^{\infty} 
  \P
  [
  X\in A_{N,j}
  ]^{V/(V+2)}
  \ 
  \to
  \ 
  \infty
  \qquad
  \text{for}\ 
  N\to\infty
  \,.
  \end{align*}
  \end{enumerate}
\end{lemma}

\begin{proof}
 Assume $\#\mathcal{X}<\infty$, that is, $X$ can take only finitely many values with positive probability.
We write
\begin{gather*}
  J_N
  :=
  \left\{ 
    j\in\mathbb{N}
    \colon
    \P[X\in A_{N,j}]>0
  \right\}
  \,.
\end{gather*}
It holds
$\#J_N\le \# \mathcal{X}<\infty$.
Thus, the following maximum is attained
\begin{gather*}
  \max_{j\in J_N} M_{N,j}
  =:M^*_N
  \,.
\end{gather*}
But the partitions increasingly better fit the support of $X$. Thus
$M^*_N$ is decreasing in $N$, that is,  $\infty>M^*_1\ge M^*_N$.
It follows
\begin{align*}
  \sum_{j=1}^{\infty} 
  M_{N,j}
  ^{2V/(V+2)}
  \P
  [
  X\in A_{N,j}
  ]^{V/(V+2)}
  \ 
  \le
  \ 
  \left( 
  M^*_1
  \right)
  ^{2V/(V+2)}
  \cdot
  \# J_N
  \ 
  \lesssim
  \ 
  1
  \,.
\end{align*}
Now let $f_X$ be the probability density of $X$. 
  Then there exists a compact set $K\subset\mathcal{X}\subset \R^d$, such that
  $
  \inf_{x\in K}f_X(x)
  >0
  $. Since $\mathcal{P}_N$ are cubic partitions, it holds for 
  \begin{gather*}
    I_N
    :=
    \left\{ 
      i\in\mathbb{N}\colon
      A_{N,i}\subset K
    \right\}
    \qquad
    \text{that}
    \qquad
    \bigcup_{i\in I_N}A_{N,i}\nearrow K
    \,.
  \end{gather*}
Thus
\begin{align*}
  \sum_{i=1}^\infty
  \P
  [
  X\in A_{N,i}
  ]^{V/(V+2)}
  &
  \ 
  \ge
  \ 
  \sum_{i\in I_N}
  \P
  [
  X\in A_{N,i}
  ]^{V/(V+2)}
  \\
  &
  \ 
  \ge
  \ 
  \inf_{x\in K}f_X(x)
  ^{V/(V+2)}
  \cdot 
  h_N^{d\cdot(V/(V+2)-1)}
  \sum_{i\in I_N}
  \lambda
  \left( 
  A_{N,i}
  \right)
  \\
  &
  \ 
  \to
  \ 
  \infty
  \,.
\end{align*}
This follows from
$
  \sum_{i\in I_N}
  \lambda
  \left( 
  A_{N,i}
  \right)
  \to 
  \lambda(K)>0
$,
  $
  \inf_{x\in K}f_X(x)
  >0
  $,
  $V/(V+2)-1<0$ and $h_N\to 0$.
\end{proof}

