On the basis of the (random) objective function $G$ of Problem~\ref{dual} (see Definition~\ref{def:rand_obj_f}) we define, for $\varepsilon>0$, an auxiliary function
   \begin{align*}
     \underline{
     \Delta G^*
     _\varepsilon
     }
     \colon
     &
     \left( \Omega,\sigma(D_N),\P \right)
     \ 
     \to
     \ 
     \overline{\R}
     \\
     &
     \omega
     \ 
     \mapsto
     \ 
   \inf
   \left\{ 
 G
   \left( 
     \omega,
     \left( 
\Delta_\rho,\Delta_0,\lambda^*(\omega)+\Delta
     \right)
   \right)
   -
   G
   \left(
     \omega,
     \left( 
0_N,0,\lambda^*(\omega)
     \right)
   \right)
   \ 
   \colon
   \ 
   \norm{
\Delta_\rho,\Delta_0,\Delta
   }_2
   =\varepsilon
   \right\}
   \end{align*}
\begin{lemma}
  \label{G_meas}
  For all $\varepsilon>0$ the function
  $
     \underline{
     \Delta G^*
     _\varepsilon
     }
  $
  is
  $
  \left( 
  \sigma(D_N),\mathcal{B}(\overline{\R})
  \right)
  $-measurable.
\end{lemma}
\begin{proof}
  Let $\varepsilon>0$.
  By Lemma~\ref{lem:caratheo_G}, the function
\begin{align*}
     \Delta G
     _\varepsilon
     \colon
     &
     \Omega
     \times
     \left( 
     \R^N
     \times
    \left( 
    \R^N_{\ge 0}\times\R\times\R^N
    \right)
     \right)
     \ 
     \to
     \ 
     \overline{\R}
     \\
     &
     \left( 
     \omega
     ,
     \left( 
     \lambda,
     \left( 
\Delta_\rho,\Delta_0,\Delta
     \right)
     \right)
     \right)
     \ 
     \mapsto
     \ 
 G
   \left( 
     \omega,
     \left( 
\Delta_\rho,\Delta_0,\lambda+\Delta
     \right)
   \right)
   -
   G
   \left(
     \omega,
     \left( 
0_N,0,\lambda
     \right)
   \right)
   \end{align*}
is Caratheodory.
Since
  $
  \left\{
   \norm{
\Delta_\rho,\Delta_0,\Delta
   }_2
   =\varepsilon
  \right\}
  $
  is compact in 
  $
    \R^N_{\ge 0}\times\R\times\R^N
    $,
  the function
\begin{align*}
  \underline{
     \Delta G
     _\varepsilon
  }
     \colon
     &
     \Omega
     \times
     \R^N
     \ 
     \to
     \ 
     \overline{\R}
     \\
     &
     \left( 
     \omega
     ,
     \lambda
     \right)
     \ 
     \mapsto
     \ 
   \inf
    \left\{ 
 G
   \left( 
     \omega,
     \left( 
\Delta_\rho,\Delta_0,\lambda+\Delta
     \right)
   \right)
   -
   G
   \left(
     \omega,
     \left( 
0_N,0,\lambda
     \right)
   \right)
   \ 
   \colon
   \ 
   \norm{
\Delta_\rho,\Delta_0,\Delta
   }_2
   =\varepsilon
    \right\}
   \end{align*}
is Caratheodory.
Since 
$
\lambda^*
$
is 
$
\left( 
\sigma
(D_N)
,
\mathcal{B}(\R^N)
\right)
$-
measurable it follows the statement.
\end{proof}
 \begin{lemma}
   \label{bw:cd:lem2}
   Under conditions it holds
   for all $\varepsilon>0$
\begin{gather}
   \P
   \left[ 
     \underline{
     \Delta G^*
     _\varepsilon
     }
     \ge 
     0
   \right]
   \ 
   \to
   \ 
   1
   \qquad
   \text{for}
   \ 
   N\to\infty
   \,.
\end{gather}
 \end{lemma}
 \begin{proof}
   Let $\varepsilon>0$.
   We will show
\begin{gather}
   \P
   \left[ 
     \underline{
     \Delta G^*
     _\varepsilon
     }
     \ge 
     -\tilde{\varepsilon}
   \right]
   \ 
   \to
   \ 
   1
   \qquad
   \ 
   \text{for}
   \ 
   N\to\infty
   \ 
   \text{for all}\ 
   \tilde{\varepsilon}>0
   \,.
\end{gather}
Then the result follows from the measurability of 
$
     \underline{
     \Delta G^*
     _\varepsilon
     }
$
(see Lemma~\ref{G_meas}).
To this end, note, that
\begin{gather*}
  G(\rho,\lambda_0,\lambda)
  \ 
  =
  \ 
  g(\rho,\lambda_0,\lambda)
  \ 
  +
  \ 
  \inner{\delta}{|\lambda|}
  \qquad
  \text{for all}\ 
  (\rho,\lambda_0,\lambda)
  \in
  \R^{N}
  \times
  \R
  \times
  \R^n_{\ge 0}
  \,,
\end{gather*}
with
\begin{gather*}
  g
  \ 
  :=
  \ 
  (\rho,\lambda_0,\lambda)
  \ 
  \mapsto
  \ 
     \frac{1}{N}
     \left( 
\sum_{i=1} 
  ^N
  T_i
  \cdot
  \varphi^*
  \!
  \left( 
    \rho_i
    +
\lambda_0
+
\inner
{B(X_i)}
{
\lambda
}
  \right)
  \ 
  -
\ 
\lambda_0
-
\inner
{B(X_i)}
{
\lambda
}
     \right)
  \,.
\end{gather*}
Since we assume $\varphi^*$ to be continuously differentiable (it is always convex),
$g$ is a continuously differentiable convex function with gradient
\begin{align*}
  &
  (\rho,\lambda_0,\lambda)
  \\
  &
  \ 
  \mapsto
  \ 
     \frac{1}{N}
     \left( 
\sum_{i=1} 
  ^N
  T_i
  \cdot
  (
  \varphi^{'}
  )
  ^{-1}
  \!
  \left( 
    \rho_i
    +
\lambda_0
+
\inner
{B(X_i)}
{
\lambda
}
  \right)
  \left[ 
    e_i^\top,1,B(X_i)^\top
  \right]^\top
  \ 
  -
  \ 
  \left[ 
    0_N^\top,1,B(X_i)^\top
  \right]^\top
     \right)
  \,.
\end{align*}
Thus, by \eqref{cv:primer:mvthe},
it holds
\begin{align*}
  &
  G
   \left( 
\Delta_\rho,\Delta_0,\lambda^*+\Delta
   \right)
   \ 
   -
   \ 
   G
   \left(
0_N,0,\lambda^*
   \right)
   \\
   &
   \ 
   \ge
   \ 
   \frac{1}{N}
  \left( 
\sum_{i=1} 
  ^N
  T_i
  \cdot
  (
  \varphi^{'}
  )
  ^{-1}
  \!
  \left( 
\inner
{B(X_i)}
{
\lambda^*
}
  \right)
  \left[ 
    e_i^\top,1,B(X_i)^\top
  \right]
  \ 
  -
  \ 
  \left[ 
    0_N^\top,1,B(X_i)^\top
  \right]
  \right)
  \begin{bmatrix}
    \Delta_\rho,\Delta_0,\Delta
  \end{bmatrix}
    \\
  &
  \qquad
  +
  \ 
  \inner{\delta}
  {|
\lambda^*
+
\Delta
  |
  -
  |
\lambda^*
  |
}
\\
   &
   \ 
   \ge
   \ 
   \frac{1}{N}
\sum_{i=1} 
  ^N
  \left( 
    T_i\cdot
  (
  \varphi^{'}
  )
  ^{-1}
  \!
  \left( 
\inner
{B(X_i)}
{
\lambda^*
}
  \right)
  \ 
  -
  \ 
  1
  \right)
  \left[ 
    e_i^\top,1,B(X_i)^\top
  \right]
  \cdot
  \begin{bmatrix}
    \Delta_\rho,\Delta_0,\Delta
  \end{bmatrix}
  +
  \inner{e_i}{\Delta_\rho}
  \\
  &
  \qquad
  +
  \ 
  \inner{\delta}
  {|
\lambda^*
+
\Delta
  |
  -
  |
\lambda^*
  |
}
\\
   &
   \ 
   \ge
   \ 
   -
   \frac{1}{N}
\sum_{i=1} 
  ^N
  \left|
   \left( 
     T_i\cdot
  (
  \varphi^{'}
  )
  ^{-1}
  \!
  \left( 
\inner
{B(X_i)}
{
\lambda^*
}
  \right)
  \ 
  -
  \ 
  1
  \right)
  \left[ 
    e_i^\top,1,B(X_i)^\top
  \right]
  \cdot
  \begin{bmatrix}
    \Delta_\rho,\Delta_0,\Delta
  \end{bmatrix}
  \right|
    \ 
  -
  \ 
  \inner{\delta}
  {|
\Delta
  |
}
\end{align*}
\subsection*{first term}
By the Cauchy-Schwarz inequality, Lemma (basis) it holds
It holds
\begin{align*}
  \left|
   \left[ 
    e_i^\top,1,B(X_i)^\top
  \right]
  \cdot
  \begin{bmatrix}
    \Delta_\rho,\Delta_0,\Delta
    \end{bmatrix}
  \right|
  \lesssim
  \varepsilon
  \,.
\end{align*}
Furthermore,
\begin{align*}
  &
    \frac{1}{N}
\sum_{i=1} 
  ^N
  \left|
   \left( 
     T_i\cdot
  (
  \varphi^{'}
  )
  ^{-1}
  \!
  \left( 
\inner
{B(X_i)}
{
\lambda^*
}
  \right)
  \ 
  -
  \ 
  1
  \right)
  \right|
  \\
  &
  \ 
  \le
  \ 
    \frac{1}{N}
\sum_{i=1} 
^{N}
\left|
  1-
  \frac
  {T_i}
  {\pi(X_i)}
\right|
\\
&
\qquad
+
    \frac{1}{N}
    \sum_{i=1}^{N} 
\omega
\left(
  (
  \varphi^{'}
  )
  ^{-1}
  ,
  \left|
    \sum_{k=1}^{N}
  B_k(X_i)
  \cdot
  \varphi^{'}
  \left(
    \frac
    {1}
    {\pi(X_k)}
  \right)
  -
  \varphi^{'}
  \left(
    \frac
    {1}
    {\pi(X_i)}
  \right)
  \right|
  \right)
\end{align*}
The firs term goes to 0 by the wlln.
By Lemma basis it follows for the second term
\begin{align*}
\omega
\left(
  (
  \varphi^{'}
  )
  ^{-1}
  ,
  \omega(
  \varphi^{'}
  ,
  h_N^d
  )
  \right)
  \to 0
\end{align*}
For the 
 \end{proof}

