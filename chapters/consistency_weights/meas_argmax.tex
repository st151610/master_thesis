We follow \cite{Aliprantis2007}
A \textbf{correspondence} $\psi$ from a set $S_1$ to a set $S_2$ assigns to each $s_1\in S_1$ a subset $\psi(s_1)\subset S_2$.
To clarify that we map $s_1$ to a set, we use the double arrow, that is,
$
  \psi
  \colon
  S_1
  \twoheadrightarrow
  S_2
$.
  Let 
  $(\mathcal{Z},\Sigma_{\mathcal{Z}})$ be a measurable space and $\mathcal{S}$  a topological space.
  We say, that a correspondence 
  $
  \psi
  \colon
  \mathcal{Z}
  \twoheadrightarrow
  \mathcal{S}
  $
  is 
  \textbf{
  weakly measurable
  },
  if
  \begin{gather*}
    \left\{ 
      z\in \mathcal{Z}
      \ 
      |
      \ 
      \psi(z)
      \cap
      O
      \neq
      \emptyset
    \right\}
    \in
    \Sigma_{\mathcal{Z}}
    \qquad
    \text{for all open subsets}
    \ 
    O\subset \mathcal{S}
    \,.
  \end{gather*}
  A \textbf{selector} from a correspondence $\psi\colon \mathcal{Z}\twoheadrightarrow \mathcal{S}$ is a function $s\colon \mathcal{Z}\to \mathcal{S}$ that satisfies 
  \begin{align*}
s(z)\in\psi(z)
\qquad
\text{for all}\ 
z\in\mathcal{Z}
\,.
  \end{align*}
  

\begin{definition}
  Let 
  $(\mathcal{Z},\Sigma_{\mathcal{Z}})$ be a measurable space, and let $\mathcal{S}_1$ and $\mathcal{S}_2$  be topological space.
  A function 
  $f\colon \mathcal{Z}\times \mathcal{S}_1 \to \mathcal{S}_2$
  is a \textbf{Caratheodory function} if
  \begin{align*}
    f(\cdot,s_1)
    &
    \colon
    \mathcal{Z}\to \mathcal{S}_2
    \qquad
    \text{is}\ 
    (\Sigma_{\mathcal{Z}},\mathcal{B}(\mathcal{S}_2))-measurable
    \ 
    \text{for all}
    \ 
    s_1\in \mathcal{S}_1
    \,,
    \intertext{and}
    f(z,\cdot)
    &
    \colon
    \mathcal{Z}\to \mathcal{S}_2
    \qquad
    \text{is continuous for all}\ 
    z\in \mathcal{Z}
    \,.
  \end{align*}
\end{definition}
\begin{theorem}
  Let $\mathcal{S}$ be a separable metrizable space and
  $
  (\mathcal{Z},\Sigma_{\mathcal{Z}})
  $
  a measurable space.
  Let $\psi\colon \mathcal{Z} \twoheadrightarrow \mathcal{S}$ be a weakly measurable correspondence with non-empty compact values, and suppose
  $f\colon \mathcal{Z}\times \mathcal{S} \to \R$
  is a Caratheodory function. Define the value function 
  $m\colon \mathcal{Z}\to \R$ by
  \begin{gather*}
    m(z):=\max_{s\in\psi(z)}f(z,s)
    \,,
  \end{gather*}
  and the correspondence 
  $\mu\colon \mathcal{Z}\twoheadrightarrow \mathcal{S}$ of maximizers by
  \begin{gather*}
    \mu(z):= \left\{ 
      s\in \psi(z)
      |
      f(z,s)=m(z)
    \right\}
    \,.
  \end{gather*}
  Then the value function $m$ is measurable, 
  the argmax correspondence $\mu$ has non-empty and compact values,
  is measurable and admits a measurable selector.
\end{theorem}
\begin{proof}
  \cite[Theorem~18.19]{Aliprantis2007}
\end{proof}

Our goal is to find (plausible) assumptions under which we can measurably select the optimal solutions of Problem~\ref{dual}.

\begin{assumption}
  There exists $\underline{N}\in\mathbb{N}$ such that 
  for all $N\ge \underline{N}$ 
  there exists a compact and deterministic parameter space
  $
  \Theta_N
  \subset
  \R^N_{\ge 0}
  \times
  \R
  \times
  \R^{N}
  $
  such that 
  the optimal solution to Problem~\ref{dual}
  $(\rho^\dagger,\lambda_0^\dagger,\lambda^\dagger)$
  is contained in $\Theta_N$.
\end{assumption}

With this assumption we can construct the (constant) correspondence
\begin{align*}
  \psi
  \colon
  (\Omega,\mathcal{A},\P)
  \ 
  \twoheadrightarrow
  \ 
  \R^N_{\ge 0}
  \times
  \R
  \times
  \R^{N}
  \,,
  \qquad
  \omega
  \ 
  \to
  \ 
  \Theta_N
  \,.
\end{align*}
This is weakly measurable, because $\Theta_N$ is deterministic and thus
$\Theta_N\cap O$ is either true or false, that is,
  \begin{gather*}
    \left\{ 
      \omega\in \Omega
      \ 
      |
      \ 
      \psi(\omega)
      \cap
      O
      \neq
      \emptyset
    \right\}
    \ 
    \in
    \ 
    \left\{ \Omega,\emptyset \right\}
    \subset
    \mathcal{A}
    \qquad
    \text{for all open subsets}
    \ 
    O
    \subset
  \R^N_{\ge 0}
  \times
  \R
  \times
  \R^{N}
    \,.
  \end{gather*}
  Next consider the (random) objective function of Problem~\ref{dual}, that is,
  \begin{align*}
    &
  G\colon
  \Omega
  \times
  \left(
  \R^N_{\ge 0}
  \times
  \R
  \times
  \R^{N}
  \right)
  \to
  \R\cup \left\{
    -\infty
  \right\}
  \intertext{with}
    &
  G(\omega,(\rho,\lambda_0,\lambda))
  \ 
  =
  \ 
  -\infty
  \qquad 
  \text{if}\ 
  \rho_i\neq 0\  \text{for some}\ i>n
  \,,
  \\
  \intertext{and}\qquad
  &
  G(\omega,(\rho,\lambda_0,\lambda))
  \\
  &
  \ 
  =
  \ 
  \frac{1}{N}
\sum_{i=1} 
  ^N
  \Big[
    -
  T_i(\omega)
  \cdot
  \varphi^*
  \!
  \left( 
    \rho_i
    +
\lambda_0
+
\inner
{B(X_i)(\omega)}
{
\lambda
}
  \right)
  \ 
  +
  \ 
\lambda_0
+
\inner
{B(X_i)(\omega)}
{
\lambda
}
\Big]
  \ 
-
\ 
\inner
{\delta(\omega)}
{
  |\lambda|
}
\,.
  \end{align*}
  Clearly, the (random) objective function $G$  is a Caratheodory function. This follows from the continuity of $\varphi^*$ and the measurability 
  of all random variables included.
  Then
  $(\rho^\dagger,\lambda_0^\dagger,\lambda^\dagger)(\omega)$ 
  is the only optimal solution in $\psi(\omega)=\Theta_N$, and thus, by Theorem
  the optimal dual solution 
  \begin{align*}
  (\rho^\dagger,\lambda_0^\dagger,\lambda^\dagger)
  \colon
  \Omega\to 
  \R^N_{\ge 0}
  \times
  \R
  \times
  \R^{N}
  \qquad
  \text{is}
  \qquad
  \left(
  \mathcal{A},\mathcal{B}
  \left(
  \R^N_{\ge 0}
  \times
  \R
  \times
  \R^{N}
  \right)
  \right)
  \text{-measurable.}
  \end{align*}
  
